/*!
 * vue-analytics v2.4.0
 * (c) 2017 Matteo Gabriele
 * Released under the ISC License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueAnalytics=t()}(this,function(){"use strict";var e=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn("[VueAnalytics] "+t.join(" "))},t=function(e){return!(!o.ignoreRoutes.length||o.ignoreRoutes.indexOf(e)===-1)},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={debug:{enabled:!1,trace:!1,sendHitTask:!0},autoTracking:!0,id:null,ids:null,userId:null,manual:!1,ignoreRoutes:[]},i=function e(t,o){return Object.keys(o).forEach(function(i){if(t[i]&&"object"===n(t[i]))return void e(t[i],o[i]);t[i]=o[i]}),t},a=function(t){if("boolean"==typeof t.debug){e("Please use the new debug setup","https://github.com/MatteoGabriele/vue-analytics#debug")}return i(o,t)},r=function(){if(void 0!==window.ga){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];if(o.length)return"object"===n(o[0])&&o[0].constructor===Object?void window.ga("set",o[0]):o.length<2||"string"!=typeof o[0]&&"string"!=typeof o[1]?void e("$ga.set needs a field name and a field value, or you can pass an object literal"):void window.ga("set",o[0],o[1])}},u=function(){return new Promise(function(e,t){var n=document.createElement("script"),i=o.userId||{},a=o.debug.enabled?"_debug":"",u="https://www.google-analytics.com/analytics"+a+".js",c=document.getElementsByTagName("script")[0];n.async=1,c.parentNode.insertBefore(n,c),n.onload=n.onreadystatechange=function(a,u){if(u||!n.readyState||/loaded|complete/.test(n.readyState)){if(n.onload=n.onreadystatechange=null,n=void 0,u)return t({error:!0,id:o.id});o.debug.enabled&&(window.ga_debug={trace:o.debug.trace}),o.ids?o.ids.forEach(function(e,t){var n=e.id,o=e.name;window.ga("create",n,"auto",o)}):window.ga("create",o.id,"auto",i),o.debug.sendHitTask||r("sendHitTask",null),window.ga.getAll().forEach(function(e){e.send("pageview")}),e(o.ids?{success:!0,ids:o.ids}:{success:!0,id:o.id})}},n.src=u})},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";void 0!==window.ga&&window.ga.getAll().forEach(function(o){o.send("pageview",{page:e,title:t,location:n})})},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;void 0!==window.ga&&window.ga.getAll().forEach(function(i){i.send("event",e,t,n,o)})},l=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";void 0!==window.ga&&window.ga.getAll().forEach(function(i){i.send("timing",e,t,n,o)})},s=function(n){if(o.manual&&!n&&o.autoTracking){return void e("auto-tracking doesn't work without a router instance.","https://github.com/MatteoGabriele/vue-analytics#auto-tracking")}if(o.autoTracking&&n){var i=n.currentRoute;t(i.name)||c(i.path,i.name,window.location.href),n.afterEach(function(e){var n=e.path,o=e.name;t(o)||c(n,o,window.location.href)})}},f=function(t,n){if(!o.manual){if(!o.id&&!o.ids){return void e("Please enter a Google Analaytics tracking ID","https://github.com/MatteoGabriele/vue-analytics#usage")}u().then(function(o){if(o.error)return void e("Ops! Could't load the Google Analytics script");n&&"function"==typeof n&&n(),s(t)})}};return{install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.router;delete t.router,a(t),f(n,t.onAnalyticsReady);var o={trackEvent:d,trackPage:c,trackTime:l,set:r};e.prototype.$ga=e.$ga=o},loadScript:u,autoTracking:s}});